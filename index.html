<!DOCTYPE html>
<html>
<head>
<title>STRELKASH MELTDOWN</title>

 <link href="d4.css" rel="stylesheet" />


<script src="jquery.js"></script>
<script src="d3.v3.min.js"></script>
<script src="d4.min.js"></script>



<style>

/*! Generated by Font Squirrel (https://www.fontsquirrel.com) on January 25, 2018 */



@font-face {
    font-family: 's_bold';
    src: url('fonts/s_bold-webfont.woff2') format('woff2'),
         url('fonts/s_bold-webfont.woff') format('woff');
    font-weight: normal;
    font-style: normal;

}




@font-face {
    font-family: 's_medium_italic';
    src: url('fonts/s_medium_italic-webfont.woff2') format('woff2'),
         url('fonts/s_medium_italic-webfont.woff') format('woff');
    font-weight: normal;
    font-style: normal;

}




@font-face {
    font-family: 's_extrabold';
    src: url('fonts/s_extrabold-webfont.woff2') format('woff2'),
         url('fonts/s_extrabold-webfont.woff') format('woff');
    font-weight: normal;
    font-style: normal;

}

#test {
	display:inline-block;
	width:50%;
	overflow:visible;
	color:#FF4D4D;
}


g, stroke {
  fill: #FF4D4D;
  stroke: #FF4D4D;
  font-family: 's_extrabold';
  font-size:2.5rem;
  stroke-width: 1px; /* Note: The value of a pixel depends
                         on the view box */
}

.arcs {
	 stroke: #FF4D4D !important;
	  stroke-width: 2px;
}

marquee {
	font-family: 's_extrabold';
  font-size:2.5rem;
  position:fixed;
  bottom:10px;
  display:block;
  width:100%;
  left:0;


}



body {
	background-color: #1D1D1B;
	color:#FF4D4D;
	font-family: 's_bold';
}

#conversions {
	width:48%;
	font-size:1.4rem;

	top:15px;
	left:15px;
		position:fixed;
	display:block;
}

#mainPrice {
	width:48%;
	position:fixed;
	display:block;
	right:15px;
	top:15px;
	font-family: 's_extrabold';
	font-size:4rem;
}

span {
	font-family: 's_extrabold';
}

#graphics {

	top:400px;
	left:0px;

}


</style>

</head>

<body>

<div id="pie"></div>
<div id="time_series"></div>


<div id="conversions">
	<div>BITCOIN : <span id="subprice1">InitPrice</span></div>
	<div>ETHEREUM : <span id="subprice2">InitPrice</span></div>
	<div>DOGE COIN : <span id="subprice3">InitPrice</span></div>
	<div>REM KOOLCOIN : <span id="subprice4">InitPrice</span></div>
	<div>STRELKASH <span id="subprice5">InitPrice</span></div>
	<div>$ :<span id="subprice5">InitPrice</span></div>
	<div>£ :<span id="subprice5">InitPrice</span></div>
	<div>₽ : <span id="subprice5">InitPrice</span></div>
</div>



<div id="mainPrice">InitPrice</div>
<div id="test"></div>

<marquee>Fully Distributed Party Coin is the most important constituent blockchains in its own fly, apparatus, metadata about itself at once as a political theological society as a model value of commodities to she enhance — no matter the space of energy superimposition.</marquee>

</body>


<script>

		//'use strict';

$(document).ready(function(){


  	var mainPrice;
	var rateOfIncrease;

	var marketDirection;
	var volatility;

	function setInitPrices () {

		mainPrice = 15;
		rateOfIncrease = 1;
		marketDirection = 1;
		volatility = 2;
	};

	setInitPrices();


  var currentdate = new Date();
var datetime = "Last Sync: " + currentdate.getDate() + "/"
                + (currentdate.getMonth()+1)  + "/"
                + currentdate.getFullYear() + " @ "
                + currentdate.getHours() + ":"
                + currentdate.getMinutes() + ":"
                + currentdate.getSeconds();

  var printtime = currentdate.getHours() + ":" + currentdate.getMinutes() + ":" + currentdate.getSeconds();

  var   printtime = new Date();

      var dataFirst = [
    { time: printtime,unitsSold:Math.random(mainPrice*1.5), salesman : 'BitCoin' },
    { time: printtime,unitsSold:Math.random(mainPrice*1.5), salesman : 'BitCoin' },
    { time: printtime,unitsSold:Math.random(mainPrice*1.5), salesman : 'BitCoin' },
    { time: printtime,unitsSold:Math.random(mainPrice*1.5), salesman : 'BitCoin' },
    { time: printtime,unitsSold:Math.random(mainPrice*1.5), salesman : 'BitCoin' },
    { time: printtime,unitsSold:Math.random(mainPrice*1.5), salesman : 'PARTY COIN' },
    { time: printtime,unitsSold:Math.random(mainPrice*1.5), salesman : 'PARTY COIN' },
    { time: printtime,unitsSold:Math.random(mainPrice*1.5), salesman : 'PARTY COIN' },
    { time: printtime,unitsSold:Math.random(mainPrice*1.5), salesman : 'PARTY COIN' },
    { time: printtime,unitsSold:Math.random(mainPrice*1.5), salesman : 'PARTY COIN' },
    { time: printtime,unitsSold:Math.random(mainPrice*1.5), salesman : 'Ethereum' },
    { time: printtime,unitsSold:Math.random(mainPrice*1.5), salesman : 'Ethereum' },
    { time: printtime,unitsSold:Math.random(mainPrice*1.5), salesman : 'Ethereum' },
    { time: printtime,unitsSold:Math.random(mainPrice*1.5), salesman : 'Ethereum' },
      { time: printtime,unitsSold:Math.random(mainPrice*1.5), salesman : 'BitCoin' },
    { time: printtime,unitsSold:Math.random(mainPrice*1.5), salesman : 'BitCoin' },
    { time: printtime,unitsSold:Math.random(mainPrice*1.5), salesman : 'BitCoin' },
    { time: printtime,unitsSold:Math.random(mainPrice*1.5), salesman : 'BitCoin' },
    { time: printtime,unitsSold:Math.random(mainPrice*1.5), salesman : 'BitCoin' },
    { time: printtime,unitsSold:Math.random(mainPrice*1.5), salesman : 'PARTY COIN' },
    { time: printtime,unitsSold:Math.random(mainPrice*1.5), salesman : 'PARTY COIN' },
    { time: printtime,unitsSold:Math.random(mainPrice*1.5), salesman : 'PARTY COIN' },
    { time: printtime,unitsSold:Math.random(mainPrice*1.5), salesman : 'PARTY COIN' },
    { time: printtime,unitsSold:Math.random(mainPrice*1.5), salesman : 'PARTY COIN' },
    { time: printtime,unitsSold:Math.random(mainPrice*1.5), salesman : 'Ethereum' },
    { time: printtime,unitsSold:Math.random(mainPrice*1.5), salesman : 'Ethereum' },
    { time: printtime,unitsSold:Math.random(mainPrice*1.5), salesman : 'Ethereum' },
    { time: printtime,unitsSold:Math.random(mainPrice*1.5), salesman : 'Ethereum' },
      { time: printtime,unitsSold:Math.random(mainPrice*1.5), salesman : 'BitCoin' },
    { time: printtime,unitsSold:Math.random(mainPrice*1.5), salesman : 'BitCoin' },
    { time: printtime,unitsSold:Math.random(mainPrice*1.5), salesman : 'BitCoin' },
    { time: printtime,unitsSold:Math.random(mainPrice*1.5), salesman : 'BitCoin' },
    { time: printtime,unitsSold:Math.random(mainPrice*1.5), salesman : 'BitCoin' },
    { time: printtime,unitsSold:Math.random(mainPrice*1.5), salesman : 'PARTY COIN' },
    { time: printtime,unitsSold:Math.random(mainPrice*1.5), salesman : 'PARTY COIN' },
    { time: printtime,unitsSold:Math.random(mainPrice*1.5), salesman : 'PARTY COIN' },
    { time: printtime,unitsSold:Math.random(mainPrice*1.5), salesman : 'PARTY COIN' },
    { time: printtime,unitsSold:Math.random(mainPrice*1.5), salesman : 'PARTY COIN' },
    { time: printtime,unitsSold:Math.random(mainPrice*1.5), salesman : 'Ethereum' },
    { time: printtime,unitsSold:Math.random(mainPrice*1.5), salesman : 'Ethereum' },
    { time: printtime,unitsSold:Math.random(mainPrice*1.5), salesman : 'Ethereum' },
    { time: printtime,unitsSold:Math.random(mainPrice*1.5), salesman : 'Ethereum' },
    { time: printtime,unitsSold:Math.random(mainPrice*1.5), salesman : 'Ethereum' }
  ];


    var parsedData = d4.parsers.nestedGroup()
    .x(function(){
      return 'time';
    })
    .nestKey(function(){
      return 'salesman';
    })
    .y(function(){
      return 'unitsSold';
    })
    .value(function(){
      return 'unitsSold';
    })(dataFirst);

  var chart = d4.charts.line()
  .outerWidth($('#test').width())
  .x(function(x){
    x.key('time');
  })
  .y(function(y){
    y.key('unitsSold');
  });

  d3.select('#test')
  .datum(parsedData.data)
  .call(chart);


  var generateData = function() {
    var data = [];
    var names = ['PARTY', 'The New Normal', 'BitCoin',
      'Strelka', 'Rem KoolCoin', 'Cloud Shot',
      'VOODDDDKKKKAAAA', 'Stack Overflow', 'Vodka++', 'FDCP'
    ],
      pie = d3.layout.pie()
        .sort(null)
        .value(function(d) {
          return d.unitsSold;
        });
    d4.each(names, function(name) {
      data.push({
        unitsSold: Math.max(10, Math.random() * 100),
        salesman: name
      });
    });
    return pie(data);
  };

  var chartTwo = d4.charts.donut()
    .outerWidth($('#pie').width())
    .margin({
      left: 0,
      top: 0,
      right: 0,
      bottom: 0
    })
    .radius(function() {
      return this.width / 8;
    })
    .arcWidth(50)
    .using('arcLabels', function(labels) {
      labels.text(function(d) {
        return d.data.salesman;
      })
    })
    .using('arcs', function(slices) {
      slices.key(function(d) {
        return d.data.salesman;
      });
    });


  var redraw = function() {
    var data = generateData();
    d3.select('#pie')
      .datum(data)
      .call(chartTwo);
  };
  (function loop() {
    redraw();
    setTimeout(loop, 4500);
  })();






	function updatePrice(){


		randomIncrease = Math.random() * (1.01 - 0.999) + 0.999;
		mainPrice = mainPrice * randomIncrease;
		updateGraphics();

	};

	function updateGraphics() {

	$("#mainPrice").text(mainPrice.toFixed(6));
	$("#subprice1").text( (mainPrice * 0.4).toFixed(10) );
	$("#subprice2").text( (mainPrice * 0.053 * Math.random(0.33) ).toFixed(10) );
	$("#subprice3").text( (mainPrice * 1.5 ).toFixed(10) );
	$("#subprice4").text( (mainPrice * 0.0003 ).toFixed(10) );
	$("#subprice5").text( (mainPrice * 0.02 * Math.random(55)).toFixed(10) );


	  var currentdate = new Date();
	  var printtime = currentdate.getHours() + ":" + currentdate.getMinutes() + ":" + currentdate.getSeconds();

	  printtime = new Date();

	var newVar =  { time:printtime, unitsSold:mainPrice.toFixed(6)+"", salesman : 'PARTY COIN' };

	dataFirst.shift();
	dataFirst.shift();
	dataFirst.shift();

	newRandom = Math.random() * 4;

	if(newRandom > 2) {
		var newVar =  { time:printtime, unitsSold:mainPrice.toFixed(6) * 0.2+"", salesman : 'PARTY COIN' };


	} else if(newRandom >1 ) {

		var newVar =  { time:printtime, unitsSold:(mainPrice * 0.2).toFixed(6) * 0.2+"", salesman : 'BitCoin' };


	} else {
		var newVar =  { time:printtime, unitsSold:(mainPrice * 0.02).toFixed(6) +"", salesman : 'Ethereum' };

	}

	var newVar = { time:printtime, unitsSold:mainPrice.toFixed(6) * 0.2+"", salesman : 'PARTY COIN' };

		var newVar2 =  { time:printtime, unitsSold:(mainPrice * Math.random()).toFixed(6) * 0.2+"", salesman : 'BitCoin' }

		var newVar3 = 	{ time:printtime, unitsSold:(mainPrice * Math.random()).toFixed(6) +"", salesman : 'Ethereum' };

	dataFirst.push(newVar);
	dataFirst.push(newVar2);
	dataFirst.push(newVar3);

	 var parsedData = d4.parsers.nestedGroup()
    .x(function(){
      return 'time';
    })
    .nestKey(function(){
      return 'salesman';
    })
    .y(function(){
      return 'unitsSold';
    })
    .value(function(){
      return 'unitsSold';
    })(dataFirst);

  var chart = d4.charts.line()
  .outerWidth($('#test').width())
  .x(function(x){
    x.key('time');
  })
  .y(function(y){
    y.key('unitsSold');
  });

  d3.select('#test')
  .datum(parsedData.data)
  .call(chart);


	console.log("mainPrice = "+mainPrice);

	};

	updatePrice();

	var timingInterval = setInterval(updatePrice, 400);

});



</script>
</html>