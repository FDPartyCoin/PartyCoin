<!DOCTYPE html>
<html>
<head>
<title>STRELKASH MELTDOWN</title>

 <link href="d4.css" rel="stylesheet" />


<script src="jquery.js"></script>
<script src="d3.v3.min.js"></script>
<script src="d4.min.js"></script>



<style>

/*! Generated by Font Squirrel (https://www.fontsquirrel.com) on January 25, 2018 */



@font-face {
    font-family: 's_bold';
    src: url('fonts/s_bold-webfont.woff2') format('woff2'),
         url('fonts/s_bold-webfont.woff') format('woff');
    font-weight: normal;
    font-style: normal;

}




@font-face {
    font-family: 's_medium_italic';
    src: url('fonts/s_medium_italic-webfont.woff2') format('woff2'),
         url('fonts/s_medium_italic-webfont.woff') format('woff');
    font-weight: normal;
    font-style: normal;

}




@font-face {
    font-family: 's_extrabold';
    src: url('fonts/s_extrabold-webfont.woff2') format('woff2'),
         url('fonts/s_extrabold-webfont.woff') format('woff');
    font-weight: normal;
    font-style: normal;

}

#test {
	display:inline-block;
	width:50%;
	overflow:visible;
	color:#FF4D4D;
}


g, stroke {
  fill: #FF4D4D;
  stroke: #FF4D4D;
  font-family: 's_extrabold';
  font-size:2.5rem;
  stroke-width: 1px; /* Note: The value of a pixel depends
                         on the view box */
}

.arcs {
	 stroke: #FF4D4D !important;
	  stroke-width: 2px;
}

marquee {
	font-family: 's_extrabold';
  font-size:2.5rem;
  position:fixed;
  bottom:10px;
  display:block;
  width:100%;
  left:0;


}



body {
	background-color: #1D1D1B;
	color:#FF4D4D;
	font-family: 's_bold';
}

#conversions {
	width:48%;
	font-size:1.4rem;

	top:15px;
	left:15px;
		position:fixed;
	display:block;
}

#mainPrice {
	width:48%;
	position:fixed;
	display:block;
	right:15px;
	top:15px;
	font-family: 's_extrabold';
	font-size:4rem;
}

span {
	font-family: 's_extrabold';
}

#graphics {

	top:400px;
	left:0px;

}


</style>

</head>

<body>

<div id="pie"></div>
<div id="time_series"></div>


<div id="conversions">
	<div>BITCOIN : <span id="subprice1">InitPrice</span></div>
	<div>ETHEREUM : <span id="subprice2">InitPrice</span></div>
	<div>DOGE COIN : <span id="subprice3">InitPrice</span></div>
	<div>REM KOOLCOIN : <span id="subprice4">InitPrice</span></div>
	<div>STRELKASH <span id="subprice5">InitPrice</span></div>
	<div>$ :<span id="subprice5">InitPrice</span></div>
	<div>£ :<span id="subprice5">InitPrice</span></div>
	<div>₽ : <span id="subprice5">InitPrice</span></div>
</div>



<div id="mainPrice">InitPrice</div>
<div id="test"></div>

<marquee>Fully Distributed Party Coin is the most important constituent blockchains in its own fly, apparatus, metadata about itself at once as a political theological society as a model value of commodities to she enhance — no matter the space of energy superimposition.</marquee>

</body>


<script>

		//'use strict';

$(document).ready(function(){
  var data = [
    { year: '2010', unitsSold:-100, salesman : 'BitCoin' },
    { year: '2011', unitsSold:200, salesman : 'BitCoin' },
    { year: '2012', unitsSold:300, salesman : 'BitCoin' },
    { year: '2013', unitsSold:400, salesman : 'BitCoin' },
    { year: '2014', unitsSold:500, salesman : 'BitCoin' },
    { year: '2010', unitsSold:100, salesman : 'PARTY COIN' },
    { year: '2011', unitsSold:100, salesman : 'PARTY COIN' },
    { year: '2012', unitsSold:-100, salesman : 'PARTY COIN' },
    { year: '2013', unitsSold:500, salesman : 'PARTY COIN' },
    { year: '2014', unitsSold:600, salesman : 'PARTY COIN' },
    { year: '2010', unitsSold:400, salesman : 'Ethereum' },
    { year: '2011', unitsSold:0, salesman : 'Ethereum' },
    { year: '2012', unitsSold:400, salesman : 'Ethereum' },
    { year: '2013', unitsSold:400, salesman : 'Ethereum' },
    { year: '2014', unitsSold:400, salesman : 'Ethereum' }
  ];
  var parsedData = d4.parsers.nestedGroup()
    .x(function(){
      return 'year';
    })
    .nestKey(function(){
      return 'salesman';
    })
    .y(function(){
      return 'unitsSold';
    })
    .value(function(){
      return 'unitsSold';
    })(data);

  var chart = d4.charts.line()
  .outerWidth($('#test').width())
  .x(function(x){
    x.key('year');
  })
  .y(function(y){
    y.key('unitsSold');
  });

  d3.select('#test')
  .datum(parsedData.data)
  .call(chart);


  var generateData = function() {
    var data = [];
    var names = ['PARTY', 'The New Normal', 'BitCoin',
      'Strelka', 'Rem KoolCoin', 'Cloud Shot',
      'VOODDDDKKKKAAAA', 'Stack Overflow', 'Vodka++', 'FDCP'
    ],
      pie = d3.layout.pie()
        .sort(null)
        .value(function(d) {
          return d.unitsSold;
        });
    d4.each(names, function(name) {
      data.push({
        unitsSold: Math.max(10, Math.random() * 100),
        salesman: name
      });
    });
    return pie(data);
  };

  var chartTwo = d4.charts.donut()
    .outerWidth($('#pie').width())
    .margin({
      left: 0,
      top: 0,
      right: 0,
      bottom: 0
    })
    .radius(function() {
      return this.width / 8;
    })
    .arcWidth(50)
    .using('arcLabels', function(labels) {
      labels.text(function(d) {
        return d.data.salesman;
      })
    })
    .using('arcs', function(slices) {
      slices.key(function(d) {
        return d.data.salesman;
      });
    });


  var redraw = function() {
    var data = generateData();
    d3.select('#pie')
      .datum(data)
      .call(chartTwo);
  };
  (function loop() {
    redraw();
    setTimeout(loop, 4500);
  })();


    // CSV format looks like this:
  // "Oct 27, 2009",197.37,27019700
  var parseDate = d3.time.format('%b %e, %Y').parse;

  // We'll use the D3 CSV parser, and call the renderChart function
  // directly from it.
  d3.csv('../../assets/data/aapl.csv')
  .row(function(d) {
    return {
      date: parseDate(d.date),
      value: +d.val,
      volume: +d.volume,
      symbol: 'aapl'
    };
  })
  .get(function(error, rows) {
    renderChart([{ key: 'aapl', values: rows }]);
  }.bind(this));

  var renderChart = function(data){
    var chartThree = d4.charts.line()
      .marginLeft(70)
      .marginRight(70)
      .outerWidth($('#time_series').width())
      .x(function(x) {

        // Just like other scales you can specify a min or max you just
        // need to make sure to parse the date first.
        x.min(parseDate('Nov 14, 2010'));

        // by default d4 makes the x axis ordinal so we'll set it to time
        // and use the date property of the data object as the key.
        x.scale('time');
        x.key('date');
      })
      .y(function(y) {
        y
        .key('volume');
      });

    d3.select('#time_series')
      .datum(data)
      .call(chartThree);
  };



  	var mainPrice;
	var rateOfIncrease;

	var marketDirection;
	var volatility;

	function setInitPrices () {

		mainPrice = 15;
		rateOfIncrease = 1;
		marketDirection = 1;
		volatility = 2;
	};

	setInitPrices();


	function updatePrice(){


		randomIncrease = Math.random() * (1.01 - 0.999) + 0.999;
		mainPrice = mainPrice * randomIncrease;
		updateGraphics();

	};
	function updateGraphics() {

	$("#mainPrice").text(mainPrice.toFixed(6));
	$("#subprice1").text( (mainPrice * 0.4).toFixed(10) );
	$("#subprice2").text( (mainPrice * 0.053 * Math.random(0.33) ).toFixed(10) );
	$("#subprice3").text( (mainPrice * 1.5 ).toFixed(10) );
	$("#subprice4").text( (mainPrice * 0.0003 ).toFixed(10) );
	$("#subprice5").text( (mainPrice * 0.02 * Math.random(55)).toFixed(10) );

	data.push({year: '2015', unitsSold:mainPrice.toFixed(6), salesman : 'PartyCoin'});

	console.log("mainPrice = "+mainPrice);

	};

	updatePrice();

	var timingInterval = setInterval(updatePrice, 700);

});



</script>
</html>